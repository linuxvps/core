<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ</title>
</head>
<body>
<h2>ðŸ“Œ Ù…Ù†ÙˆÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ</h2>
<ul id="menu">
    <li id="adminMenu" style="display: none;"><a href="/admin-panel.html">Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</a></li>
    <li id="user1Menu" style="display: none;"><a href="/first-user.html">Ø¯Ø³ØªØ±Ø³ÛŒ Ø³Ø·Ø­ Û±</a></li>
    <li id="user2Menu" style="display: none;"><a href="/second-user.html">Ø¯Ø³ØªØ±Ø³ÛŒ Ø³Ø·Ø­ Û²</a></li>
</ul>

<script>
    fetch('/admin/users/me/roles')
        .then(res => res.json())
        .then(roles => {
            console.log("Ù†Ù‚Ø´â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±:", roles);
            if (roles.includes('ROLE_ADMIN')) {
                document.getElementById('adminMenu').style.display = 'block';
            }
            if (roles.includes('ROLE_USER1')) {
                document.getElementById('user1Menu').style.display = 'block';
            }
            if (roles.includes('ROLE_USER2')) {
                document.getElementById('user2Menu').style.display = 'block';
            }
        });
</script>
</body>
</html>
